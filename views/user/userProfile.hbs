<div class="bg-white rounded-lg shadow-md p-6 max-w-4xl mx-auto">
  <h1 class="text-3xl font-bold text-primary-700 mb-6 border-b border-gray-200 pb-3">User profile</h1>
  
  <div class="grid md:grid-cols-3 gap-8">
    <!-- Left column: Profile picture and upload -->
    <div class="flex flex-col items-center space-y-4 md:border-r md:border-gray-200 md:pr-6">
      <h2 class="text-xl font-semibold text-gray-700">Profile Picture</h2>
      <div class="relative">
        <img src="{{user.profilePicture}}" alt="Profile Picture" class="w-40 h-40 object-cover rounded-full border-4 border-primary-300 shadow-md">
      </div>
      <form action="/users/setPicture" method="POST" enctype="multipart/form-data" class="w-full flex flex-col items-center">
        <div class="mb-3 w-full">
          <input type="file" name="profilePicture" accept="image/*" required
              class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100">
        </div>
        <button type="submit" class="bg-primary-600 hover:bg-primary-700 text-white font-semibold py-2 px-6 rounded-lg transition duration-200 shadow-sm">
          Upload
        </button>
      </form>
      <a href="logout" class="mt-4 bg-secondary-500 hover:bg-secondary-600 text-white py-2 px-6 rounded-lg inline-block transition duration-200 shadow-sm font-semibold">
        Logout
      </a>
    </div>

    <!-- Middle column: User info -->
    <div class="space-y-6">
      <div>
        <h2 class="text-lg font-semibold text-gray-600">Name:</h2>
        <p class="text-l font-bold text-gray-800 break-words truncate max-w-full">{{user.username}}</p>
      </div>
      <div>
        <h2 class="text-lg font-semibold text-gray-600">E-mail:</h2>
        <p class="text-l font-bold text-gray-800 break-words truncate max-w-full">{{user.email}}</p>
      </div>
      <div class="bg-gray-50 p-4 rounded-lg">
        <h2 class="text-xl font-semibold text-primary-700 mb-3">User stats:</h2>
        <ul class="space-y-2">
          <li class="flex justify-between">
            <span class="text-gray-600">Number of answers:</span>
            <span class="font-semibold">{{numComments}}</span>
          </li>
          <li class="flex justify-between">
            <span class="text-gray-600">Number of questions:</span>
            <span class="font-semibold">{{numQuestions}}</span>
          </li>
          <li class="flex justify-between">
            <span class="text-gray-600">Karma:</span>
            <span class="font-semibold">{{totalScore}}</span>
          </li>
          <li class="flex justify-between">
            <span class="text-gray-600">Accepted answers:</span>
            <span class="font-semibold">{{numAcceptedComments}}</span>
          </li>
          <li class="flex justify-between">
            <span class="text-gray-600">Average answer score:</span>
            <span class="font-semibold">{{averageScore}}</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Right column: Questions -->
    <div class="md:border-l md:border-gray-200 md:pl-6">
      <h2 class="text-xl font-semibold text-primary-700 mb-3">Questions:</h2>
      {{#if questions.length}}
        <div class="max-h-85 overflow-y-auto pr-2"> <!-- new wrapper div -->
          <ul class="space-y-2">
            {{#each questions}}
            <li class="bg-gray-50 hover:bg-gray-100 p-3 rounded-lg transition">
              <a href="/questions/{{this._id}}" class="text-primary-600 hover:text-primary-800 font-medium block">{{this.title}}</a>
            </li>
            {{/each}}
          </ul>
        </div>
      {{else}}
        <p class="text-gray-500 italic">No questions yet.</p>
      {{/if}}
    </div>
  </div>
</div>